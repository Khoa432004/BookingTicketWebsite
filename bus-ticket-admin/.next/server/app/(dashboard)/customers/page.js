(()=>{var e={};e.id=724,e.ids=[724],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13861:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32182:(e,t,s)=>{Promise.resolve().then(s.bind(s,57080))},33873:e=>{"use strict";e.exports=require("path")},55192:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>o,Zp:()=>i});var r=s(60687),a=s(43210),n=s(96241);let i=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57080:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var r=s(60687),a=s(43210),n=s(99270),i=s(98492),o=s(62688);let d=(0,o.A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var l=s(13861);let c=(0,o.A)("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),h=(0,o.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var m=s(24934),x=s(68988),u=s(63974),p=s(96752),f=s(37826),g=s(55629),b=s(59821),j=s(55192),v=s(70333),y=s(70373),N=s(45275);let k={active:{label:"Hoạt động",variant:"success"},inactive:{label:"Kh\xf4ng hoạt động",variant:"warning"},blocked:{label:"Đ\xe3 kh\xf3a",variant:"destructive"}};function w(){let[e,t]=(0,a.useState)([]),[s,o]=(0,a.useState)(""),[w,T]=(0,a.useState)("all"),[A,_]=(0,a.useState)(null),S=()=>{let e=`${(0,N.$_)()}/api/staff/customers`;s.trim()?e=`${(0,N.$_)()}/api/staff/customers/search?keyword=${encodeURIComponent(s)}`:"all"!==w&&(e=`${(0,N.$_)()}/api/staff/customers/search?keyword=${encodeURIComponent(w)}`),fetch(e).then(e=>e.json()).then(e=>{t(e.map(e=>({id:e.id,name:e.name,email:e.email,phone:e.phone,gender:e.gender?.toLowerCase()||"other",status:e.status?.toLowerCase()||"inactive",registeredDate:"-",lastActivity:"-",totalBookings:0})))}).catch(e=>console.error("Error fetching customers:",e))},C=e=>{fetch(`${(0,N.$_)()}/api/staff/customers/${e.id}/toggle-status`,{method:"PUT"}).then(t=>{if(t.ok)(0,v.oR)({title:"Cập nhật th\xe0nh c\xf4ng",description:`T\xe0i khoản ${e.name} đ\xe3 được thay đổi trạng th\xe1i.`}),S();else throw Error("Cập nhật thất bại")}).catch(()=>(0,v.oR)({title:"Lỗi",description:"Kh\xf4ng thể cập nhật trạng th\xe1i t\xe0i khoản"}))};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Quản l\xfd kh\xe1ch h\xe0ng"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Xem v\xe0 quản l\xfd th\xf4ng tin kh\xe1ch h\xe0ng"})]}),(0,r.jsx)(j.Zp,{children:(0,r.jsxs)(j.Wu,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"flex w-full items-center gap-2 md:w-auto",children:[(0,r.jsx)(n.A,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)(x.p,{placeholder:"T\xecm theo t\xean, email hoặc số điện thoại...",value:s,onChange:e=>o(e.target.value),className:"w-full md:w-[300px]"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(i.A,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsxs)(u.l6,{value:w,onValueChange:T,children:[(0,r.jsx)(u.bq,{className:"w-full md:w-[180px]",children:(0,r.jsx)(u.yv,{placeholder:"Trạng th\xe1i"})}),(0,r.jsxs)(u.gC,{children:[(0,r.jsx)(u.eb,{value:"all",children:"Tất cả"}),(0,r.jsx)(u.eb,{value:"active",children:"Hoạt động"}),(0,r.jsx)(u.eb,{value:"inactive",children:"Kh\xf4ng hoạt động"}),(0,r.jsx)(u.eb,{value:"blocked",children:"Đ\xe3 kh\xf3a"})]})]})]})]}),(0,r.jsx)("div",{className:"mt-6 overflow-x-auto rounded-md border",children:(0,r.jsxs)(p.XI,{children:[(0,r.jsx)(p.A0,{children:(0,r.jsxs)(p.Hj,{children:[(0,r.jsx)(p.nd,{children:"Kh\xe1ch h\xe0ng"}),(0,r.jsx)(p.nd,{children:"Email"}),(0,r.jsx)(p.nd,{children:"SĐT"}),(0,r.jsx)(p.nd,{children:"Giới t\xednh"}),(0,r.jsx)(p.nd,{children:"Trạng th\xe1i"}),(0,r.jsx)(p.nd,{className:"text-right",children:"Thao t\xe1c"})]})}),(0,r.jsx)(p.BF,{children:e.length>0?e.map(e=>(0,r.jsxs)(p.Hj,{children:[(0,r.jsx)(p.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(y.eu,{children:[(0,r.jsx)(y.BK,{src:`/placeholder.svg?height=32&width=32&text=${e.name.charAt(0)}`,alt:e.name}),(0,r.jsx)(y.q5,{children:e.name.charAt(0)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e.id})]})]})}),(0,r.jsx)(p.nA,{children:e.email}),(0,r.jsx)(p.nA,{children:e.phone}),(0,r.jsx)(p.nA,{children:"male"===e.gender?"Nam":"female"===e.gender?"Nữ":"Kh\xe1c"}),(0,r.jsx)(p.nA,{children:(0,r.jsx)(b.E,{variant:k[e.status]?.variant??"secondary",children:k[e.status]?.label??e.status})}),(0,r.jsx)(p.nA,{className:"text-right",children:(0,r.jsxs)(g.rI,{children:[(0,r.jsx)(g.ty,{asChild:!0,children:(0,r.jsxs)(m.$,{variant:"ghost",size:"icon",children:[(0,r.jsx)(d,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Mở menu"})]})}),(0,r.jsxs)(g.SQ,{align:"end",children:[(0,r.jsxs)(g._2,{onClick:()=>_(e),children:[(0,r.jsx)(l.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Xem chi tiết"})]}),(0,r.jsx)(g._2,{onClick:()=>C(e),children:"blocked"===e.status?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Mở kh\xf3a t\xe0i khoản"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Kh\xf3a t\xe0i khoản"})]})})]})]})})]},e.id)):(0,r.jsx)(p.Hj,{children:(0,r.jsx)(p.nA,{colSpan:6,className:"h-24 text-center",children:"Kh\xf4ng t\xecm thấy kh\xe1ch h\xe0ng n\xe0o"})})})]})})]})}),(0,r.jsx)(f.lG,{open:!!A,onOpenChange:e=>!e&&_(null),children:(0,r.jsxs)(f.Cf,{className:"sm:max-w-[600px]",children:[(0,r.jsxs)(f.c7,{children:[(0,r.jsx)(f.L3,{children:"Chi tiết kh\xe1ch h\xe0ng"}),(0,r.jsx)(f.rr,{children:"Th\xf4ng tin chi tiết về kh\xe1ch h\xe0ng v\xe0 lịch sử giao dịch"})]}),A&&(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(y.eu,{className:"h-16 w-16",children:[(0,r.jsx)(y.BK,{src:`/placeholder.svg?height=64&width=64&text=${A.name.charAt(0)}`,alt:A.name}),(0,r.jsx)(y.q5,{children:A.name.charAt(0)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:A.name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:A.id}),(0,r.jsx)(b.E,{variant:k[A.status].variant,className:"mt-1",children:k[A.status].label})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"mb-2 font-medium",children:"Th\xf4ng tin li\xean hệ"}),(0,r.jsxs)("p",{className:"text-sm",children:["Email: ",A.email]}),(0,r.jsxs)("p",{className:"text-sm",children:["SĐT: ",A.phone]}),(0,r.jsxs)("p",{className:"text-sm",children:["Giới t\xednh: ","male"===A.gender?"Nam":"female"===A.gender?"Nữ":"Kh\xe1c"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"mb-2 font-medium",children:"Th\xf4ng tin t\xe0i khoản"}),(0,r.jsxs)("p",{className:"text-sm",children:["Ng\xe0y đăng k\xfd: ",A.registeredDate]}),(0,r.jsxs)("p",{className:"text-sm",children:["Hoạt động gần nhất: ",A.lastActivity]}),(0,r.jsxs)("p",{className:"text-sm",children:["Tổng số v\xe9 đ\xe3 đặt: ",A.totalBookings]})]})]})]})]})})]})}},59821:(e,t,s)=>{"use strict";s.d(t,{E:()=>o});var r=s(60687),a=s(24224),n=s(96241);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-500/80",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-500/80"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...s}){return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),e),...s})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68159:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\HK2\\\\Do an Banvexe HOST\\\\BookingTicketWebsite\\\\bus-ticket-admin\\\\app\\\\(dashboard)\\\\customers\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\HK2\\Do an Banvexe HOST\\BookingTicketWebsite\\bus-ticket-admin\\app\\(dashboard)\\customers\\page.tsx","default")},68988:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(60687),a=s(43210),n=s(96241);let i=a.forwardRef(({className:e,type:t,...s},a)=>(0,r.jsx)("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));i.displayName="Input"},70333:(e,t,s)=>{"use strict";s.d(t,{oR:()=>c}),s(43210);let r=0,a=new Map,n=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function l(e){d=i(d,e),o.forEach(e=>{e(d)})}function c({...e}){let t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:t});return l({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:t}})}}},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},92430:(e,t,s)=>{Promise.resolve().then(s.bind(s,68159))},93012:(e,t,s)=>{"use strict";function r(){return null}s.r(t),s.d(t,{default:()=>r})},94337:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>m,tree:()=>l});var r=s(65239),a=s(48088),n=s(88170),i=s.n(n),o=s(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let l={children:["",{children:["(dashboard)",{children:["customers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,68159)),"D:\\HK2\\Do an Banvexe HOST\\BookingTicketWebsite\\bus-ticket-admin\\app\\(dashboard)\\customers\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,93012)),"D:\\HK2\\Do an Banvexe HOST\\BookingTicketWebsite\\bus-ticket-admin\\app\\(dashboard)\\customers\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,71934)),"D:\\HK2\\Do an Banvexe HOST\\BookingTicketWebsite\\bus-ticket-admin\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"D:\\HK2\\Do an Banvexe HOST\\BookingTicketWebsite\\bus-ticket-admin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\HK2\\Do an Banvexe HOST\\BookingTicketWebsite\\bus-ticket-admin\\app\\(dashboard)\\customers\\page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(dashboard)/customers/page",pathname:"/customers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{},96752:(e,t,s)=>{"use strict";s.d(t,{A0:()=>o,BF:()=>d,Hj:()=>l,XI:()=>i,nA:()=>h,nd:()=>c});var r=s(60687),a=s(43210),n=s(96241);let i=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:s,className:(0,n.cn)("w-full caption-bottom text-sm",e),...t})}));i.displayName="Table";let o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("thead",{ref:s,className:(0,n.cn)("[&_tr]:border-b",e),...t}));o.displayName="TableHeader";let d=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("tbody",{ref:s,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...t}));d.displayName="TableBody",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("tfoot",{ref:s,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let l=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("tr",{ref:s,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));l.displayName="TableRow";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("th",{ref:s,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let h=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("td",{ref:s,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));h.displayName="TableCell",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("caption",{ref:s,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},98492:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},99270:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[318,436,291],()=>s(94337));module.exports=r})();