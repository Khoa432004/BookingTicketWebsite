(()=>{var e={};e.id=0,e.ids=[0],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13861:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44626:(e,t,r)=>{Promise.resolve().then(r.bind(r,60585))},55192:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>d,Zp:()=>i});var s=r(60687),a=r(43210),n=r(96241);let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card",a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},59821:(e,t,r)=>{"use strict";r.d(t,{E:()=>d});var s=r(60687),a=r(24224),n=r(96241);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-500/80",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-500/80"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,...r}){return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:t}),e),...r})}},60585:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(60687),a=r(43210),n=r(99270),i=r(13861),d=r(24934),l=r(68988),o=r(96752),c=r(37826),u=r(59821),m=r(55192),h=r(45275);let x={paid:{label:"Đ\xe3 thanh to\xe1n",variant:"success"},pending:{label:"Đang chờ",variant:"warning"},failed:{label:"Thất bại",variant:"destructive"},SUCCEEDED:{label:"Th\xe0nh c\xf4ng",variant:"success"},WAITING_CASH:{label:"Chờ tiền mặt",variant:"warning"},WAITING_TRANSFER:{label:"Chờ chuyển khoản",variant:"warning"}},p={confirmed:{label:"Đ\xe3 x\xe1c nhận",variant:"success"},pending:{label:"Đang chờ",variant:"warning"},canceled:{label:"Đ\xe3 hủy",variant:"destructive"}};function f(){let[e,t]=(0,a.useState)([]),[r,f]=(0,a.useState)(""),[b,g]=(0,a.useState)("all"),[v,j]=(0,a.useState)("all"),[N,y]=(0,a.useState)(null),k=e.filter(e=>("all"===b||e.paymentStatus===b)&&("all"===v||e.ticketStatus===v)),w=e=>{fetch(`${(0,h.$_)()}/api/staff/tickets/${e}`).then(e=>e.json()).then(e=>{y({id:e.bookingCode,customerName:e.customerName,phone:e.phone,route:e.route,datetime:new Date(e.arrivalTime).toLocaleString("vi-VN"),seats:e.seatNumber,paymentStatus:e.paymentStatus,ticketStatus:e.ticketStatus})})};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Quản l\xfd v\xe9"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Xem v\xe0 quản l\xfd danh s\xe1ch v\xe9 đ\xe3 đặt"})]}),(0,s.jsx)(m.Zp,{children:(0,s.jsxs)(m.Wu,{className:"p-6",children:[(0,s.jsx)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:(0,s.jsxs)("div",{className:"flex w-full items-center gap-2 md:w-auto",children:[(0,s.jsx)(n.A,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)(l.p,{placeholder:"T\xecm theo m\xe3 v\xe9 hoặc t\xean kh\xe1ch h\xe0ng...",value:r,onChange:e=>f(e.target.value),className:"w-full md:w-[300px]"})]})}),(0,s.jsx)("div",{className:"mt-6 overflow-x-auto rounded-md border",children:(0,s.jsxs)(o.XI,{children:[(0,s.jsx)(o.A0,{children:(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nd,{children:"M\xe3 đặt v\xe9"}),(0,s.jsx)(o.nd,{children:"T\xean KH"}),(0,s.jsx)(o.nd,{children:"SĐT"}),(0,s.jsx)(o.nd,{children:"Tuyến xe"}),(0,s.jsx)(o.nd,{children:"Ng\xe0y giờ"}),(0,s.jsx)(o.nd,{children:"Số ghế"}),(0,s.jsx)(o.nd,{children:"Thanh to\xe1n"}),(0,s.jsx)(o.nd,{children:"Trạng th\xe1i"}),(0,s.jsx)(o.nd,{className:"text-right",children:"Thao t\xe1c"})]})}),(0,s.jsx)(o.BF,{children:k.length>0?k.map((e,t)=>(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nA,{className:"font-medium",children:e.id}),(0,s.jsx)(o.nA,{children:e.customerName}),(0,s.jsx)(o.nA,{children:e.phone}),(0,s.jsx)(o.nA,{children:e.route}),(0,s.jsx)(o.nA,{children:e.datetime}),(0,s.jsx)(o.nA,{children:e.seats}),(0,s.jsx)(o.nA,{children:(0,s.jsx)(u.E,{variant:x[e.paymentStatus]?.variant??"secondary",children:x[e.paymentStatus]?.label??e.paymentStatus})}),(0,s.jsx)(o.nA,{children:(0,s.jsx)(u.E,{variant:p[e.ticketStatus]?.variant??"secondary",children:p[e.ticketStatus]?.label??e.ticketStatus})}),(0,s.jsx)(o.nA,{className:"text-right",children:(0,s.jsxs)(d.$,{variant:"ghost",size:"icon",onClick:()=>w(e.id),children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Xem chi tiết"})]})})]},`${e.id}-${t}`)):(0,s.jsx)(o.Hj,{children:(0,s.jsx)(o.nA,{colSpan:9,className:"h-24 text-center",children:"Kh\xf4ng t\xecm thấy v\xe9 n\xe0o"})})})]})}),(0,s.jsxs)("div",{className:"mt-4 text-sm text-muted-foreground",children:["Tổng số v\xe9 hiển thị: ",k.length," / ",e.length]})]})}),(0,s.jsx)(c.lG,{open:!!N,onOpenChange:e=>!e&&y(null),children:(0,s.jsxs)(c.Cf,{className:"sm:max-w-[600px]",children:[(0,s.jsxs)(c.c7,{children:[(0,s.jsxs)(c.L3,{children:["Chi tiết v\xe9 #",N?.id]}),(0,s.jsx)(c.rr,{children:"Th\xf4ng tin chi tiết về v\xe9 v\xe0 h\xe0nh kh\xe1ch"})]}),N&&(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"mb-2 font-medium",children:"Th\xf4ng tin h\xe0nh kh\xe1ch"}),(0,s.jsxs)("p",{className:"text-sm",children:["T\xean: ",N.customerName]}),(0,s.jsxs)("p",{className:"text-sm",children:["SĐT: ",N.phone]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"mb-2 font-medium",children:"Th\xf4ng tin v\xe9"}),(0,s.jsxs)("p",{className:"text-sm",children:["Tuyến: ",N.route]}),(0,s.jsxs)("p",{className:"text-sm",children:["Thời gian: ",N.datetime]}),(0,s.jsxs)("p",{className:"text-sm",children:["Số ghế: ",N.seats]})]})]}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("h3",{className:"mb-2 font-medium",children:"Trạng th\xe1i"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Thanh to\xe1n:"}),(0,s.jsx)(u.E,{variant:x[N.paymentStatus]?.variant??"secondary",children:x[N.paymentStatus]?.label??N.paymentStatus})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"V\xe9:"}),(0,s.jsx)(u.E,{variant:p[N.ticketStatus]?.variant??"secondary",children:p[N.ticketStatus]?.label??N.ticketStatus})]})]})]})]})]})})]})}},62456:(e,t,r)=>{"use strict";function s(){return null}r.r(t),r.d(t,{default:()=>s})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65187:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\HK2\\\\Do an Banvexe HOST\\\\BookingTicketWebsite\\\\bus-ticket-admin\\\\app\\\\(dashboard)\\\\tickets\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\HK2\\Do an Banvexe HOST\\BookingTicketWebsite\\bus-ticket-admin\\app\\(dashboard)\\tickets\\page.tsx","default")},68988:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(60687),a=r(43210),n=r(96241);let i=a.forwardRef(({className:e,type:t,...r},a)=>(0,s.jsx)("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));i.displayName="Input"},74075:e=>{"use strict";e.exports=require("zlib")},76081:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var s=r(65239),a=r(48088),n=r(88170),i=r.n(n),d=r(30893),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(t,l);let o={children:["",{children:["(dashboard)",{children:["tickets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,65187)),"D:\\HK2\\Do an Banvexe HOST\\BookingTicketWebsite\\bus-ticket-admin\\app\\(dashboard)\\tickets\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,62456)),"D:\\HK2\\Do an Banvexe HOST\\BookingTicketWebsite\\bus-ticket-admin\\app\\(dashboard)\\tickets\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71934)),"D:\\HK2\\Do an Banvexe HOST\\BookingTicketWebsite\\bus-ticket-admin\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"D:\\HK2\\Do an Banvexe HOST\\BookingTicketWebsite\\bus-ticket-admin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\HK2\\Do an Banvexe HOST\\BookingTicketWebsite\\bus-ticket-admin\\app\\(dashboard)\\tickets\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(dashboard)/tickets/page",pathname:"/tickets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81578:(e,t,r)=>{Promise.resolve().then(r.bind(r,65187))},81630:e=>{"use strict";e.exports=require("http")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{},96752:(e,t,r)=>{"use strict";r.d(t,{A0:()=>d,BF:()=>l,Hj:()=>o,XI:()=>i,nA:()=>u,nd:()=>c});var s=r(60687),a=r(43210),n=r(96241);let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:(0,n.cn)("w-full caption-bottom text-sm",e),...t})}));i.displayName="Table";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("thead",{ref:r,className:(0,n.cn)("[&_tr]:border-b",e),...t}));d.displayName="TableHeader";let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tbody",{ref:r,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...t}));l.displayName="TableBody",a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tfoot",{ref:r,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tr",{ref:r,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));o.displayName="TableRow";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("th",{ref:r,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("td",{ref:r,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("caption",{ref:r,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},99270:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[318,436,291],()=>r(76081));module.exports=s})();