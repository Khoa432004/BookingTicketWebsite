(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[328],{646:(e,s,c)=>{"use strict";c.d(s,{A:()=>n});let n=(0,c(9946).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1797:(e,s,c)=>{"use strict";c.r(s),c.d(s,{default:()=>f});var n=c(5155),l=c(2115),t=c(7924),i=c(1482),a=c(2657),r=c(4861),d=c(646),h=c(7168),x=c(9852),m=c(5784),u=c(8524),o=c(9840),j=c(9474),p=c(8145),g=c(8482),v=c(4503);let N=Array.from({length:10}).map((e,s)=>({id:"CR".concat(1e4+s),ticketId:"BT".concat(2e4+s),customerName:"Nguyễn Văn ".concat(String.fromCharCode(65+s)),route:s%2==0?"H\xe0 Nội - Hồ Ch\xed Minh":"Đ\xe0 Nẵng - H\xe0 Nội",datetime:"".concat(s%12+1,":00 ").concat(20+s,"/04/2025"),reason:s%3==0?"C\xf3 việc đột xuất kh\xf4ng thể đi được":s%3==1?"Thay đổi lịch tr\xecnh":"L\xfd do c\xe1 nh\xe2n",requestTime:"".concat(s%12+1,":").concat(5*s%60," ").concat(20+s,"/04/2025"),status:s<3?"pending":s<7?"approved":"rejected"})),y={pending:{label:"Đang chờ",variant:"warning"},approved:{label:"Đ\xe3 chấp nhận",variant:"success"},rejected:{label:"Đ\xe3 từ chối",variant:"destructive"}};function f(){let[e,s]=(0,l.useState)(""),[c,f]=(0,l.useState)("all"),[b,k]=(0,l.useState)(null),[C,w]=(0,l.useState)(""),[T,A]=(0,l.useState)(!1),L=N.filter(s=>!!(!e||s.ticketId.toLowerCase().includes(e.toLowerCase())||s.customerName.toLowerCase().includes(e.toLowerCase()))&&("all"===c||s.status===c));return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Danh s\xe1ch hủy v\xe9"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Xem v\xe0 xử l\xfd c\xe1c y\xeau cầu hủy v\xe9"})]}),(0,n.jsx)(g.Zp,{children:(0,n.jsxs)(g.Wu,{className:"p-6",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,n.jsxs)("div",{className:"flex w-full items-center gap-2 md:w-auto",children:[(0,n.jsx)(t.A,{className:"h-4 w-4 text-muted-foreground"}),(0,n.jsx)(x.p,{placeholder:"T\xecm theo m\xe3 v\xe9 hoặc t\xean kh\xe1ch h\xe0ng...",value:e,onChange:e=>s(e.target.value),className:"w-full md:w-[300px]"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i.A,{className:"h-4 w-4 text-muted-foreground"}),(0,n.jsxs)(m.l6,{value:c,onValueChange:f,children:[(0,n.jsx)(m.bq,{className:"w-full md:w-[180px]",children:(0,n.jsx)(m.yv,{placeholder:"Trạng th\xe1i"})}),(0,n.jsxs)(m.gC,{children:[(0,n.jsx)(m.eb,{value:"all",children:"Tất cả"}),(0,n.jsx)(m.eb,{value:"pending",children:"Đang chờ"}),(0,n.jsx)(m.eb,{value:"approved",children:"Đ\xe3 chấp nhận"}),(0,n.jsx)(m.eb,{value:"rejected",children:"Đ\xe3 từ chối"})]})]})]})]}),(0,n.jsx)("div",{className:"mt-6 overflow-x-auto rounded-md border",children:(0,n.jsxs)(u.XI,{children:[(0,n.jsx)(u.A0,{children:(0,n.jsxs)(u.Hj,{children:[(0,n.jsx)(u.nd,{children:"M\xe3 y\xeau cầu"}),(0,n.jsx)(u.nd,{children:"M\xe3 v\xe9"}),(0,n.jsx)(u.nd,{children:"T\xean KH"}),(0,n.jsx)(u.nd,{children:"Th\xf4ng tin chuyến"}),(0,n.jsx)(u.nd,{children:"L\xfd do hủy"}),(0,n.jsx)(u.nd,{children:"Thời gian y\xeau cầu"}),(0,n.jsx)(u.nd,{children:"Trạng th\xe1i"}),(0,n.jsx)(u.nd,{className:"text-right",children:"Thao t\xe1c"})]})}),(0,n.jsx)(u.BF,{children:L.length>0?L.map(e=>(0,n.jsxs)(u.Hj,{children:[(0,n.jsx)(u.nA,{className:"font-medium",children:e.id}),(0,n.jsx)(u.nA,{children:e.ticketId}),(0,n.jsx)(u.nA,{children:e.customerName}),(0,n.jsx)(u.nA,{children:(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("p",{className:"text-sm",children:e.route}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:e.datetime})]})}),(0,n.jsx)(u.nA,{children:(0,n.jsx)("p",{className:"max-w-[200px] truncate text-sm",children:e.reason})}),(0,n.jsx)(u.nA,{children:e.requestTime}),(0,n.jsx)(u.nA,{children:(0,n.jsx)(p.E,{variant:y[e.status].variant,children:y[e.status].label})}),(0,n.jsx)(u.nA,{className:"text-right",children:(0,n.jsxs)(h.$,{variant:"ghost",size:"icon",onClick:()=>k(e),disabled:"pending"!==e.status,children:[(0,n.jsx)(a.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Xem chi tiết"})]})})]},e.id)):(0,n.jsx)(u.Hj,{children:(0,n.jsx)(u.nA,{colSpan:8,className:"h-24 text-center",children:"Kh\xf4ng t\xecm thấy y\xeau cầu n\xe0o"})})})]})})]})}),(0,n.jsx)(o.lG,{open:!!b,onOpenChange:e=>!e&&k(null),children:(0,n.jsxs)(o.Cf,{className:"sm:max-w-[600px]",children:[(0,n.jsxs)(o.c7,{children:[(0,n.jsx)(o.L3,{children:"Chi tiết y\xeau cầu hủy v\xe9"}),(0,n.jsx)(o.rr,{children:"Xem x\xe9t y\xeau cầu hủy v\xe9 v\xe0 quyết định chấp nhận hoặc từ chối"})]}),b&&(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"mb-2 font-medium",children:"Th\xf4ng tin y\xeau cầu"}),(0,n.jsxs)("p",{className:"text-sm",children:["M\xe3 y\xeau cầu: ",b.id]}),(0,n.jsxs)("p",{className:"text-sm",children:["M\xe3 v\xe9: ",b.ticketId]}),(0,n.jsxs)("p",{className:"text-sm",children:["Thời gian y\xeau cầu: ",b.requestTime]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"mb-2 font-medium",children:"Th\xf4ng tin h\xe0nh kh\xe1ch"}),(0,n.jsxs)("p",{className:"text-sm",children:["T\xean: ",b.customerName]})]})]}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("h3",{className:"mb-2 font-medium",children:"Th\xf4ng tin chuyến xe"}),(0,n.jsxs)("p",{className:"text-sm",children:["Tuyến: ",b.route]}),(0,n.jsxs)("p",{className:"text-sm",children:["Thời gian: ",b.datetime]})]}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("h3",{className:"mb-2 font-medium",children:"L\xfd do hủy v\xe9"}),(0,n.jsx)("div",{className:"rounded-md border p-2",children:(0,n.jsx)("p",{className:"text-sm",children:b.reason})})]}),(0,n.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,n.jsxs)(h.$,{variant:"outline",onClick:()=>A(!0),children:[(0,n.jsx)(r.A,{className:"mr-2 h-4 w-4"}),"Từ chối"]}),(0,n.jsxs)(h.$,{onClick:()=>{b&&((0,v.oR)({title:"Y\xeau cầu đ\xe3 được chấp nhận",description:"V\xe9 ".concat(b.ticketId," đ\xe3 được hủy th\xe0nh c\xf4ng.")}),k(null))},children:[(0,n.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Chấp nhận"]})]})]})]})}),(0,n.jsx)(o.lG,{open:T,onOpenChange:A,children:(0,n.jsxs)(o.Cf,{className:"sm:max-w-[500px]",children:[(0,n.jsxs)(o.c7,{children:[(0,n.jsx)(o.L3,{children:"Từ chối y\xeau cầu hủy v\xe9"}),(0,n.jsx)(o.rr,{children:"Vui l\xf2ng nhập l\xfd do từ chối để th\xf4ng b\xe1o cho kh\xe1ch h\xe0ng"})]}),(0,n.jsx)("div",{className:"grid gap-4 py-4",children:(0,n.jsx)(j.T,{placeholder:"Nhập l\xfd do từ chối...",value:C,onChange:e=>w(e.target.value),className:"min-h-[100px]"})}),(0,n.jsxs)(o.Es,{children:[(0,n.jsx)(h.$,{variant:"outline",onClick:()=>A(!1),children:"Hủy"}),(0,n.jsx)(h.$,{onClick:()=>{b&&((0,v.oR)({title:"Y\xeau cầu đ\xe3 bị từ chối",description:"V\xe9 ".concat(b.ticketId," vẫn được giữ nguy\xean.")}),w(""),A(!1),k(null))},disabled:!C.trim(),children:"X\xe1c nhận từ chối"})]})]})})]})}},2657:(e,s,c)=>{"use strict";c.d(s,{A:()=>n});let n=(0,c(9946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2952:(e,s,c)=>{Promise.resolve().then(c.bind(c,1797))},4861:(e,s,c)=>{"use strict";c.d(s,{A:()=>n});let n=(0,c(9946).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9474:(e,s,c)=>{"use strict";c.d(s,{T:()=>i});var n=c(5155),l=c(2115),t=c(3999);let i=l.forwardRef((e,s)=>{let{className:c,...l}=e;return(0,n.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",c),ref:s,...l})});i.displayName="Textarea"}},e=>{var s=s=>e(e.s=s);e.O(0,[543,692,62,683,441,684,358],()=>s(2952)),_N_E=e.O()}]);