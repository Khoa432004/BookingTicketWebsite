(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[857],{968:(e,a,t)=>{"use strict";t.d(a,{b:()=>l});var n=t(2115),s=t(3655),i=t(5155),d=n.forwardRef((e,a)=>(0,i.jsx)(s.sG.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));d.displayName="Label";var l=d},2714:(e,a,t)=>{"use strict";t.d(a,{J:()=>c});var n=t(5155),s=t(2115),i=t(968),d=t(2085),l=t(3999);let r=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,n.jsx)(i.b,{ref:a,className:(0,l.cn)(r(),t),...s})});c.displayName=i.b.displayName},5181:(e,a,t)=>{Promise.resolve().then(t.bind(t,5696))},5696:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>C});var n=t(5155),s=t(2115),i=t(9946);let d=(0,i.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var l=t(7924),r=t(1482);let c=(0,i.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),h=(0,i.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),o=(0,i.A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var m=t(7168),x=t(9852),u=t(5784),p=t(8524),g=t(9840),j=t(8145),v=t(8482),y=t(2714),N=t(9474),f=t(4503);let k=Array.from({length:10}).map((e,a)=>({id:"PROMO".concat(1e4+a),name:"Khuyến m\xe3i ".concat(a+1),description:a%3==0?"Giảm gi\xe1 cho kh\xe1ch h\xe0ng mới":a%3==1?"Khuyến m\xe3i dịp lễ":"Ưu đ\xe3i đặc biệt",discountRate:(a%5+1)*5,code:"SAVE".concat(5*a+10),startDate:"01/0".concat(a%9+1,"/2025"),endDate:"30/0".concat(a%9+1,"/2025"),status:a<3?"upcoming":a<7?"active":"expired"})),b={active:{label:"Đang hoạt động",variant:"success"},upcoming:{label:"Sắp diễn ra",variant:"warning"},expired:{label:"Đ\xe3 hết hạn",variant:"destructive"}};function C(){let[e,a]=(0,s.useState)(""),[t,i]=(0,s.useState)("all"),[C,w]=(0,s.useState)(!1),[M,D]=(0,s.useState)(!1),[T,R]=(0,s.useState)(null),[A,Y]=(0,s.useState)({name:"",description:"",discountRate:"",code:"",startDate:"",endDate:""}),F=k.filter(a=>!!(!e||a.name.toLowerCase().includes(e.toLowerCase())||a.code.toLowerCase().includes(e.toLowerCase()))&&("all"===t||a.status===t)),S=e=>{(0,f.oR)({title:"X\xf3a khuyến m\xe3i th\xe0nh c\xf4ng",description:'Khuyến m\xe3i "'.concat(e.name,'" đ\xe3 được x\xf3a.')})},J=e=>{R(e),Y({name:e.name,description:e.description,discountRate:e.discountRate.toString(),code:e.code,startDate:e.startDate,endDate:e.endDate}),D(!0)};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Quản l\xfd khuyến m\xe3i"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Tạo v\xe0 quản l\xfd c\xe1c chương tr\xecnh khuyến m\xe3i"})]}),(0,n.jsxs)(m.$,{onClick:()=>w(!0),children:[(0,n.jsx)(d,{className:"mr-2 h-4 w-4"}),"Th\xeam khuyến m\xe3i"]})]}),(0,n.jsx)(v.Zp,{children:(0,n.jsxs)(v.Wu,{className:"p-6",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,n.jsxs)("div",{className:"flex w-full items-center gap-2 md:w-auto",children:[(0,n.jsx)(l.A,{className:"h-4 w-4 text-muted-foreground"}),(0,n.jsx)(x.p,{placeholder:"T\xecm theo t\xean hoặc m\xe3 khuyến m\xe3i...",value:e,onChange:e=>a(e.target.value),className:"w-full md:w-[300px]"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(r.A,{className:"h-4 w-4 text-muted-foreground"}),(0,n.jsxs)(u.l6,{value:t,onValueChange:i,children:[(0,n.jsx)(u.bq,{className:"w-full md:w-[180px]",children:(0,n.jsx)(u.yv,{placeholder:"Trạng th\xe1i"})}),(0,n.jsxs)(u.gC,{children:[(0,n.jsx)(u.eb,{value:"all",children:"Tất cả"}),(0,n.jsx)(u.eb,{value:"active",children:"Đang hoạt động"}),(0,n.jsx)(u.eb,{value:"upcoming",children:"Sắp diễn ra"}),(0,n.jsx)(u.eb,{value:"expired",children:"Đ\xe3 hết hạn"})]})]})]})]}),(0,n.jsx)("div",{className:"mt-6 overflow-x-auto rounded-md border",children:(0,n.jsxs)(p.XI,{children:[(0,n.jsx)(p.A0,{children:(0,n.jsxs)(p.Hj,{children:[(0,n.jsx)(p.nd,{children:"T\xean CT"}),(0,n.jsx)(p.nd,{children:"M\xf4 tả"}),(0,n.jsx)(p.nd,{children:"Tỷ lệ giảm"}),(0,n.jsx)(p.nd,{children:"M\xe3 KM"}),(0,n.jsx)(p.nd,{children:"Thời gian \xe1p dụng"}),(0,n.jsx)(p.nd,{children:"Trạng th\xe1i"}),(0,n.jsx)(p.nd,{className:"text-right",children:"Thao t\xe1c"})]})}),(0,n.jsx)(p.BF,{children:F.length>0?F.map(e=>(0,n.jsxs)(p.Hj,{children:[(0,n.jsx)(p.nA,{className:"font-medium",children:e.name}),(0,n.jsx)(p.nA,{children:(0,n.jsx)("p",{className:"max-w-[200px] truncate",children:e.description})}),(0,n.jsxs)(p.nA,{children:[e.discountRate,"%"]}),(0,n.jsx)(p.nA,{children:(0,n.jsx)("code",{className:"rounded bg-muted px-1 py-0.5 font-mono text-sm",children:e.code})}),(0,n.jsx)(p.nA,{children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(c,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,n.jsxs)("span",{children:[e.startDate," - ",e.endDate]})]})}),(0,n.jsx)(p.nA,{children:(0,n.jsx)(j.E,{variant:b[e.status].variant,children:b[e.status].label})}),(0,n.jsx)(p.nA,{className:"text-right",children:(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,n.jsxs)(m.$,{variant:"ghost",size:"icon",onClick:()=>J(e),children:[(0,n.jsx)(h,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Chỉnh sửa"})]}),(0,n.jsxs)(m.$,{variant:"ghost",size:"icon",onClick:()=>S(e),children:[(0,n.jsx)(o,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"X\xf3a"})]})]})})]},e.id)):(0,n.jsx)(p.Hj,{children:(0,n.jsx)(p.nA,{colSpan:7,className:"h-24 text-center",children:"Kh\xf4ng t\xecm thấy khuyến m\xe3i n\xe0o"})})})]})})]})}),(0,n.jsx)(g.lG,{open:C,onOpenChange:w,children:(0,n.jsxs)(g.Cf,{className:"sm:max-w-[600px]",children:[(0,n.jsxs)(g.c7,{children:[(0,n.jsx)(g.L3,{children:"Th\xeam khuyến m\xe3i mới"}),(0,n.jsx)(g.rr,{children:"Tạo chương tr\xecnh khuyến m\xe3i mới cho kh\xe1ch h\xe0ng"})]}),(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(y.J,{htmlFor:"name",children:"T\xean chương tr\xecnh"}),(0,n.jsx)(x.p,{id:"name",placeholder:"Nhập t\xean chương tr\xecnh",value:A.name,onChange:e=>Y({...A,name:e.target.value})})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(y.J,{htmlFor:"code",children:"M\xe3 khuyến m\xe3i"}),(0,n.jsx)(x.p,{id:"code",placeholder:"V\xed dụ: SUMMER2025",value:A.code,onChange:e=>Y({...A,code:e.target.value})})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(y.J,{htmlFor:"description",children:"M\xf4 tả"}),(0,n.jsx)(N.T,{id:"description",placeholder:"M\xf4 tả chi tiết về chương tr\xecnh khuyến m\xe3i",value:A.description,onChange:e=>Y({...A,description:e.target.value})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(y.J,{htmlFor:"discount-rate",children:"Tỷ lệ giảm (%)"}),(0,n.jsx)(x.p,{id:"discount-rate",type:"number",min:"1",max:"100",placeholder:"10",value:A.discountRate,onChange:e=>Y({...A,discountRate:e.target.value})})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(y.J,{htmlFor:"start-date",children:"Ng\xe0y bắt đầu"}),(0,n.jsx)(x.p,{id:"start-date",type:"text",placeholder:"DD/MM/YYYY",value:A.startDate,onChange:e=>Y({...A,startDate:e.target.value})})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(y.J,{htmlFor:"end-date",children:"Ng\xe0y kết th\xfac"}),(0,n.jsx)(x.p,{id:"end-date",type:"text",placeholder:"DD/MM/YYYY",value:A.endDate,onChange:e=>Y({...A,endDate:e.target.value})})]})]})]}),(0,n.jsxs)(g.Es,{children:[(0,n.jsx)(m.$,{variant:"outline",onClick:()=>w(!1),children:"Hủy"}),(0,n.jsx)(m.$,{onClick:()=>{if(!A.name||!A.discountRate||!A.code||!A.startDate||!A.endDate){(0,f.oR)({title:"Lỗi",description:"Vui l\xf2ng điền đầy đủ th\xf4ng tin.",variant:"destructive"});return}let e=Number(A.discountRate);if(isNaN(e)||e<=0||e>100){(0,f.oR)({title:"Lỗi",description:"Tỷ lệ giảm gi\xe1 phải l\xe0 số từ 1 đến 100.",variant:"destructive"});return}(0,f.oR)({title:"Th\xeam khuyến m\xe3i th\xe0nh c\xf4ng",description:'Khuyến m\xe3i "'.concat(A.name,'" đ\xe3 được th\xeam.')}),Y({name:"",description:"",discountRate:"",code:"",startDate:"",endDate:""}),w(!1)},children:"Th\xeam khuyến m\xe3i"})]})]})}),(0,n.jsx)(g.lG,{open:M,onOpenChange:D,children:(0,n.jsxs)(g.Cf,{className:"sm:max-w-[600px]",children:[(0,n.jsxs)(g.c7,{children:[(0,n.jsx)(g.L3,{children:"Chỉnh sửa khuyến m\xe3i"}),(0,n.jsx)(g.rr,{children:"Cập nhật th\xf4ng tin chương tr\xecnh khuyến m\xe3i"})]}),(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(y.J,{htmlFor:"edit-name",children:"T\xean chương tr\xecnh"}),(0,n.jsx)(x.p,{id:"edit-name",placeholder:"Nhập t\xean chương tr\xecnh",value:A.name,onChange:e=>Y({...A,name:e.target.value})})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(y.J,{htmlFor:"edit-code",children:"M\xe3 khuyến m\xe3i"}),(0,n.jsx)(x.p,{id:"edit-code",placeholder:"V\xed dụ: SUMMER2025",value:A.code,onChange:e=>Y({...A,code:e.target.value})})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(y.J,{htmlFor:"edit-description",children:"M\xf4 tả"}),(0,n.jsx)(N.T,{id:"edit-description",placeholder:"M\xf4 tả chi tiết về chương tr\xecnh khuyến m\xe3i",value:A.description,onChange:e=>Y({...A,description:e.target.value})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(y.J,{htmlFor:"edit-discount-rate",children:"Tỷ lệ giảm (%)"}),(0,n.jsx)(x.p,{id:"edit-discount-rate",type:"number",min:"1",max:"100",placeholder:"10",value:A.discountRate,onChange:e=>Y({...A,discountRate:e.target.value})})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(y.J,{htmlFor:"edit-start-date",children:"Ng\xe0y bắt đầu"}),(0,n.jsx)(x.p,{id:"edit-start-date",type:"text",placeholder:"DD/MM/YYYY",value:A.startDate,onChange:e=>Y({...A,startDate:e.target.value})})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(y.J,{htmlFor:"edit-end-date",children:"Ng\xe0y kết th\xfac"}),(0,n.jsx)(x.p,{id:"edit-end-date",type:"text",placeholder:"DD/MM/YYYY",value:A.endDate,onChange:e=>Y({...A,endDate:e.target.value})})]})]})]}),(0,n.jsxs)(g.Es,{children:[(0,n.jsx)(m.$,{variant:"outline",onClick:()=>D(!1),children:"Hủy"}),(0,n.jsx)(m.$,{onClick:()=>{T&&((0,f.oR)({title:"Cập nhật khuyến m\xe3i th\xe0nh c\xf4ng",description:'Khuyến m\xe3i "'.concat(T.name,'" đ\xe3 được cập nhật.')}),D(!1),R(null))},children:"Cập nhật"})]})]})})]})}},9474:(e,a,t)=>{"use strict";t.d(a,{T:()=>d});var n=t(5155),s=t(2115),i=t(3999);let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,n.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s})});d.displayName="Textarea"}},e=>{var a=a=>e(e.s=a);e.O(0,[543,692,62,683,441,684,358],()=>a(5181)),_N_E=e.O()}]);